<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="
		
		Server software for automatically creating daily blog posts from Instagram posts.
		"> 
    
	<meta name="author" content=" cdeck3r ">  
    <base href="http://cdeck3r.com/instablog/">
    <title>Sections</title>

    
    <link href="css/bootstrap.min.css" rel="stylesheet">

    
    <link href="css/landing-page.css" rel="stylesheet">

    
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    
    <link href="css/bootstrap-social.css" rel="stylesheet">

    
    
    

    <style>
    .navbar {
    border-color: #e7e7e7;
}

.content-section-a,
footer,
.navbar {
  background-color: #f8f8f8;
  color: #333;
}

.navbar a:link,
.navbar-default .navbar-nav>li>a {
  color: #777;
}

.navbar a:hover,
.navbar-default .navbar-nav>li>a:hover {
  color: rgb(51, 51, 51);
}

.content-section-b {
  background-color: white;
  color: #333;
}

body {
  color: rgb(51, 51, 51);
}

.header-container h1,
.header-container h2,
.header-container h3,
.header-container h4 {
  color: rgb(51, 51, 51);
}

  </style>

</head>
<body>

<section id="intro">
	
	<div class="intro-header">

		<div class="container">
			<div class="row">
				<div class="col-lg-12">
				
					<div class="intro-message">
						<h1>Instablog</h1>
						<h3>Server software for automatically creating daily blog posts from Instagram posts.</h3>
						<hr class="intro-divider">

						<ul class="list-inline intro-social-buttons">
						


  <li><a href="//github.com/cdeck3r" class="btn btn-default btn-lg" title="GitHub">
  <i class="fa fa-github"></i>
  </a></li>


























  <li><a href="//linkedin.com/in/cdeck3r" title="LinkedIn" class="btn btn-default btn-lg">
  <i class="fa fa-linkedin"></i>
  </a></li>







  <li><a href="//xing.com/profile/Christian_Decker10" title="Xing" class="btn btn-default btn-lg">
  <i class="fa fa-xing"></i>
  </a></li>













  <li><a href="//youtube.com/channel/UCZ5wNVV_E6AA3L3C-mvqwSA" title="YouTube" class="btn btn-default btn-lg">
  <i class="fa fa-youtube"></i>
  </a></li>

















  <li><a href="//twitter.com/cdeck3r" title="Twitter" class="btn btn-default btn-lg">
  <i class="fa fa-twitter"></i>
  </a></li>



















  <li><a href="mailto:info@cdeck3r.com" title="Email" class="btn btn-default btn-lg">
  <i class="fa fa-envelope"></i>
  </a></li>


						</ul>
					</div>
				</div>
			</div>
		</div>
		
	</div>
	
</section>

<section id="main">



	 
    <div class="content-section-a">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">About</h2>
                    <p>In August 2019, the team <a href="//dramalamas.tours">DramaLamas</a> will take part in the charity rallye <a href="https://balkan.superlative-adventure.com/balkan-express.html">BALKAN EXPRESS RALLY</a>. We want to document our trip using <a href="//instagram.com">Instagram</a> as well as on our blog.</p>

<p>Important websites</p>

<ul>
<li>Team website DramaLamas: <a href="//dramalamas.tours">dramalamas.tours</a></li>
<li>Team&rsquo;s Instagram profile: <a href="//www.instagram.com/dramalamas.tours2019/">dramalamas.tours2019</a></li>
</ul>

                </div>
            </div>

        </div>
        

    </div>

	
    <div class="content-section-b">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Project Definition</h2>
                    

<p>Existing solutions sharing instagram posts within a blog explicitly embedd an post URL. This is a manual effort one has to do for every new instagram post entry. The Instagram JavaScript plugin, <a href="//instafeedjs.com">Instafeed.js</a>, utilizes Instagram&rsquo;s API and retrieves new posts filtered by a user-defined function. As a result, a single blog post embedding this javascript would display a large list of Instagram post. However, it is unclear how a daily blog is generated which only contains the posts from that day.</p>

<h3 id="goal">Goal</h3>

<p>New posts on our <a href="//www.instagram.com/dramalamas.tours2019/">Instagram account</a> shall automaically appear as daily blog posts on <a href="//dramalamas.tours">our website</a>.</p>

<h3 id="approach-objectives">Approach &amp; Objectives</h3>

<ul>
<li>To setup a github project framework and development environment</li>
<li>To include a project blog for documentation</li>
<li>To enable automatic download of new instagram posts filtered by a given date</li>
<li>To enable the automatic creation of blog posts from instagram posts of that date</li>
<li>To let the blog post have a URL reference back to the genuine instagram post</li>
<li>To enable the software to monitor and run the blog post creation on a regular basis, e.g. at a hourly interval</li>
<li>To be able to single-click deploy the software on a Virtual Private Server</li>
<li>Optionally: To enable a simple remote monitoring notifying the regular successful or failed run</li>
</ul>

<h3 id="alternative-solutions">Alternative Solutions</h3>

<p>Other options of Instagram-Blog-crossposting include</p>

<ul>
<li><a href="//instafeedjs.com">Instafeed.js</a>

<ul>
<li>Pro: easy to embedd into a single blog post</li>
<li>Con: Still requires to manually create a blog post, filtering for a single date  unclear</li>
</ul></li>
<li>RSS feeds, e.g. <a href="https://docs.rsshub.app/en/#instagram">RSS Hub</a> or <a href="https://rss.app/rss-feed/create-instagram-rss-feed">RSS.app</a>

<ul>
<li>Pro: Structured data returned, easy to parse by a wide range of software</li>
<li>Con: Still requires to manually create a daily blog post</li>
</ul></li>
<li>Open Source, e.g. <a href="https://thomasclowes.com/syncing-instagram-posts-to-a-ghost-blog/">Syncing Instagram posts to a Ghost blog</a>

<ul>
<li>Pro: existing code base, quick start for own projects</li>
<li>Con: limited to specific blog system, still requires customization effort
<br /></li>
</ul></li>
</ul>

                </div>
            </div>

        </div>
        

    </div>

	 
    <div class="content-section-a">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">MVP</h2>
                    <p>The minimum viable product creates the initial value.</p>

<p>All Instagram posts of a <em>selected single date</em> shall be listed in a day&rsquo;s blog post on <a href="//DramaLamas.tours">DramaLamas.tours</a>. The blog post shall display the correct date. It shall contain for each Instagram post at least</p>

<ul>
<li>caption</li>
<li>date and time</li>
<li>image</li>
<li>link from the image to Instagram post</li>
</ul>

<p><strong>Note:</strong> Instablog sources a profile&rsquo;s feed. Since the Instagram website shows only up 12 recent posts in a feed, the blog post is limited to those recent posts.</p>

<p><strong>Acceptance test</strong></p>

<p>The MVP is accepted if the functionality above is shown for at least two different dates.</p>

                </div>
            </div>

        </div>
        

    </div>

	
    <div class="content-section-b">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Design Concept</h2>
                    <p>This is a brief design sketch of Instablog&rsquo;s components.</p>

<ul>
<li>instacrawler: collect URLs from Instagram&rsquo;s profile</li>
<li>instapost: download a single Instagram post&rsquo;s data</li>
<li>blogpost: create a blogpost from all Instagram posts of a single day</li>
</ul>

<p><img src="uml/designconcept.png" alt="designconcept" /></p>

<p>The DramaLamas blog is a jekyll website hosted on GitHub.
Updating the blog is a git commit activity.</p>

                </div>
            </div>

        </div>
        

    </div>

	 
    <div class="content-section-a">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Components</h2>
                    

<h3 id="instacrawler">instacrawler</h3>

<p>Instacrawler collects URLs of posts from an Instagram&rsquo;s profile feed. It identifies posts by their short code - an alphanumeric string, such as <code>BhRpkfqgnsf</code>.</p>

<p>The software component consists of two parts.</p>

<ul>
<li><code>instacrawler.sh</code> Defines the profile URL and the file storing posts&rsquo; shortcodes as <code>.csv</code> file. Afterwards, it calls the python script to do the work.</li>
<li><code>instacrawler.py</code> Downloads the profile website, extracts the shortcodes and stores them in <code>.csv</code> file.</li>
</ul>

<p><strong>Invoke instacrawler:</strong> The entry point is always the shell script.</p>

<pre><code class="language-bash">./instacrawler.sh /tmp https://www.instagram.com/koloot.design/
</code></pre>

<p>This will let the instacrawler download the profile&rsquo;s feed of koloot.design and store all found posts as shortcodes in the <code>/tmp/shortcodes.csv</code>. Note, the filename is defined <em>within</em> the script in order to hide the components&rsquo; data sharing via the filesystem from the user.</p>

<p><strong>Note:</strong> Instagram shows only up 12 recent posts in a profile&rsquo;s feed. The number of shortcodes is therefore limited to 12 recent posts.</p>

<h3 id="instapost">instapost</h3>

<p>Instapost downloads Instagram post information. A shortcode, e.g. <code>BhRpkfqgnsf</code>, acquired from Instacrawler refers to a single post&rsquo;s URL in the form of <code>https://instagram.com/p/BhRpkfqgnsf</code>.</p>

<p>The software component consists of two parts.</p>

<ul>
<li><code>instapost.sh</code> Defines the file storing relevant Instagram post information as <code>.csv</code> file. Afterwards, it calls the python script to do the work.</li>
<li><code>instapost.py</code> Downloads post for each shortcode in the shortcode file and extracts relevant information and stores it in a <code>.csv</code> file.</li>
</ul>

<p><strong>Invoke instapost:</strong> The entry point is always the shell script.</p>

<pre><code class="language-bash">./instapost.sh /tmp
</code></pre>

<p>Only a data directory, here <code>/tmp</code>, needs to be defined. The script assumes <em>all data files</em> to stay in this data directory. The input shortcode file is assumed to be <code>shortcodes.csv</code>. The output file storing the relevant post information is <code>postinfo.csv</code>.</p>

<h3 id="blogpost">blogpost</h3>

<p><em>tbd.</em></p>

                </div>
            </div>

        </div>
        

    </div>

	
    <div class="content-section-b">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">instablog: Main Script</h2>
                    

<h3 id="instablog">instablog</h3>

<p>The main script for automatically creating daily blog posts from Instagram posts. This script may run as a cronjob.</p>

<p><code>instablog.sh</code> Defines basic interface parameters:</p>

<ul>
<li>data directory: storing all intermediate data for the exchange between instablog&rsquo;s other software components.</li>
<li>profile URL: the Instagram profile URL sourcing the feed data from</li>
<li>github repo URL: the URL to the github repo providing the jekyll blog</li>
</ul>

<p><strong>Default values:</strong> If no params are provided, instablog will fall back to default values; see <a href="https://github.com/cdeck3r/instablog/blob/master/scripts/instablog.sh"><code>instablog.sh</code></a>.</p>

<p><strong>Invoke instablog:</strong></p>

<pre><code class="language-bash">./instablog.sh /tmp https://www.instagram.com/koloot.design/ https://github.com/dramalamas/dramalamas.github.io
</code></pre>

<p>Credentials to update the github repo are stored in an external <code>.env</code> file.</p>

<h3 id="recent-posts-limit">&ldquo;Recent Posts&rdquo; Limit</h3>

<p>The Instagram profile feed is limited to only recent posts, which Instagram defines to be 12 posts.</p>

<h4 id="option-1-rss-feeds"><em>Option 1: RSS feeds</em></h4>

<p>Typical RSS feed solution, e.g. <a href="https://docs.rsshub.app/en/#instagram">RSS Hub</a> or <a href="https://rss.app/rss-feed/create-instagram-rss-feed">RSS.app</a>, have basically the same as the <code>instacrawler</code> component. The source all recent posts from a profile and provide an RSS output format containing posts&rsquo; information. The limit still remains.</p>

<h4 id="option-2-instagram-explore"><em>Option 2: Instagram explore</em></h4>

<p>Explore brings up posts matching a tag. The tag <code>#iceland</code> brings up a page with lots of posts associated with this tag. Just have a look on <a href="https://www.instagram.com/explore/tags/iceland/"><code>https://www.instagram.com/explore/tags/iceland/</code></a>. Interestingly, the page data refers to 76 individual posts. The <code>instacrawler</code> component can successfully process the explore URL, extracts and stores all 70+ shortcodes. It means, however, that all DramaLamas Instagram posts must be specifically tagged to separate the DramaLamas posts from others. Still, we can&rsquo;t avoid free riding. When others would use this tag, their posts would make it into our blog.</p>

<h4 id="option-3-state-based-crawler"><em>Option 3: State-based Crawler</em></h4>

<p>This idea is simple and effective. After each run of the <code>instacrawler</code> component, it simply adds the current posts to the ones from the previous run. Run after run, it builds up history of posts. The frequency of the crawler&rsquo;s runs depends on how often we would post new images on Instagram. The recent post limit is only valid for a single website lookup. If the crawler runs frequently enough, the risk is low it would miss any post.</p>

<p>Option 3 is easy to implement. The <code>instablog</code> main script records the results file, that is the <code>shortcodes.csv</code> file, of each instacrawler run throughout the day. It merges the current file with all the last ones, removes duplicates and provides the results to the <code>instapost</code> script for the next step.</p>

                </div>
            </div>

        </div>
        

    </div>

	 
    <div class="content-section-a">
    
   
        <div class="container">

            <div class="row">
                <div>
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Conclusion</h2>
                    

<p>This section concludes the project.</p>

<h3 id="summary">Summary</h3>

<p>The list below displays the achieved objectives:</p>

<ul class="task-list">
<li><label><input type="checkbox" disabled class="task-list-item"> &hellip;</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> &hellip;</label></li>
</ul>

<h3 id="conclusion">Conclusion</h3>

<p><a href="//github.com/cdeck3r/instablog">Instablog</a> autonomously monitors our Instagram profile for new posts and creates a blog post containing on instagram post from a single day.</p>

<h3 id="final-note">Final Note</h3>

<p>I took this exercise as an test case how fast I develop a small end-to-end software. In particular, this encompasses the use of Docker, Makefile, various scripting languages, version control, parallel documentation and many other development activities.</p>

<p>Instablog runs unattended on a server on the Internet. The software is split into different small components. It is kept intentionelly lean by using the filesystem as middleware between components. I utilized the approach of <a href="https://en.wikipedia.org/wiki/Convention_over_configuration">convention over configuration</a>, not only to speed up development, but to achieve resilience, too.</p>

<p>Still, lot&rsquo;s of things are missing. The shell scripts do not check for parameters when invoked. There are no unit tests at all. It is unclear what happens, if the scripts meet a video or other content other than images.</p>

                </div>
            </div>

        </div>
        

    </div>


</section>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-8" style="padding-left: 0px">
				<ul class="list-inline">
					<li>
						<a class="page-scroll" href="#intro">Up</a>
					</li>
					<li class="footer-menu-divider">&sdot;</li>
						<li>
							<a href="http://cdeck3r.com/instablog/imprint-gdpr/imprint" >Imprint</a>
						</li>
					<li class="footer-menu-divider">&sdot;</li>
						<li>
							<a href="http://cdeck3r.com/instablog/imprint-gdpr/gdpr" >GDPR</a>
						</li>
				 </ul>
				 <p class="copyright text-muted small">Copyright &copy; Instablog All Rights Reserved</p>
			</div>
            <div class="col-md-4" style="padding-right: 0px">
				Built with <a href="http://gohugo.io">Hugo</a> and the
				<a href="https://github.com/cdeck3r/OneDly-Theme">OneDly project</a>
				theme.
            </div>
        </div>
    </div>
</footer>

<script src="/js/jquery-1.11.0.js"></script>


<script src="/js/jquery.easing.min.js"></script>


<script src="/js/bootstrap.min.js"></script>



</body>
</html>

